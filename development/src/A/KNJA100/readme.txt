// kanji=漢字
// $Id: readme.txt 56585 2017-10-22 12:47:53Z maeshiro $

KNJA100
学期確定処理（賢者版）
-----

2007/10/16 o-naka
★ 文言を変更した。
-- 「設定学期」となっていた部分を「生成対象学期」に変更する。
-- （意味が判りづらい為）
★ チェック処理①を追加した。
-- ヘッダー部分の「処理学期」（コントロールマスタの学期）と、
-- 「生成対象学期コンボボックス」で指定された学期が同じ場合、
-- 「現在処理学期と生成対象学期が同一の為処理できません」
-- というメッセージを表示し、処理は行わない。
★ チェック処理②を追加した。
-- 学籍在籍データ（SCHREG_REGD_DAT）に「生成対象学期コンボボックス」
-- で指定された学期のレコードが１件でも存在していた場合、
-- 「生成対象学期の学籍データが既に存在しています。
--   一旦データを削除し再作成を行いますがよろしいですか？」
-- というメッセージを表示する。
-- 「ＯＫ」の場合は処理を行う。「キャンセル」の場合は何もしない。
-- ※既に作成され運用されている学籍在籍データが誤って
--   削除（再作成）されることを防ぐためのチェック。
★ チェック処理③を追加した。
-- クラス編成データ（CLASS_FORMATION_DAT）に「生成対象学期コンボボックス」
-- で指定された学期のレコードが１件も存在していない場合、
-- 「事前処理（HRクラス作成、HR割振り、出席番号・コース設定）が行われていません」
-- というメッセージを表示し、処理は行わない。
-- レコードが１件以上存在する場合、通常の生成処理を行う。
-- ※クラス編成データが存在しない場合に、学籍在籍データの削除のみが
--   処理が行われてしまうことを防ぐためのチェック。
2007/10/17 o-naka
★ 画面上に処理についての注意書きを追加・変更した。
★ チェック処理②を削除した。
-- 学籍在籍データの存在チェック
-- ※不要となった為
★ チェック処理③を変更した。
-- クラス編成データの存在チェック
-- ※この処理は、submit前ではなくsubmit後に行うようにした。

2008/09/12 o-naka
★ 年次設定処理を変更した。
-- 学校マスタの「学校区分（SCHOOLDIV）」を取得し、その値が
-- ・「０：学年制」の場合
--     クラス編成データの「学年（GRADE）」の値を次学期の学籍在籍データ
--     の「年次（ANNUAL）」にコピーする。
-- ・「１：単位制」の場合
--     作成する学期（次学期）の前の学期（つまり処理学期）の学籍在籍
--     データのレコードを取得し、そのレコードの「年次（ANNUAL）」の
--     値を次学期の学籍在籍データの「年次（ANNUAL）」にコピーする。

2014/05/26  1.更新/削除等のログ取得機能を追加

# kanji=漢字
# $Id: readme.txt 73441 2020-04-02 00:02:31Z maeshiro $

2008/03/28  CSV登録
            法政の場合、右上コンボに「新入生（高１）」を追加。
            近代の場合、更新時にSCHREG_REGD_DITAIL_HDATからデータを取得して課程、学科、コースに設定

2008/09/26  1.「法政の処理」を「併設校（法政・智辯）の処理」に変更した。

2009/04/01  1.表示に"留"とあるだけで左に移せないバグ修正

2010/04/05  1.新入生の場合、右のリストの生徒名を以下の通り表示
            -- CLASS_FORMATION_DAT.OLD_GRADE ≠ null
            --     SCHREG_BASE_MST.NAME
            -- ELSE
            --     FRESHMAN_DAT.NAME
            2.DBエラーを修正

2010/10/29  1.新クラスの生徒一覧で生徒氏名を1.学籍基礎マスタ、2.新入生データの優先順で取得する。

2012/03/30  1.新入生（高校）を選択した場合の条件を変更。
            -- 留年していない 又は、旧学年無し → 留年していない 且つ、旧学年無し

2012/04/09  1.留年生を左に移す際のチェック処理を修正した。
            -- 左コンボと右コンボの学年が一致の場合、左に移動できるように修正した。
            -- 左コンボと右コンボの学年が不一致の場合、アラートを出し、左に移動できないように修正した。

2012/04/20  1.新入生の場合の生徒氏名表示を右リストと同様に修正した。
            2.新入生以外の生徒氏名はSCHREG_BASE_MSTのNAME_SHOWに修正した。

2013/04/01  1.左リストの氏名表示を以下の通り修正
            -- 「右コンボが新入生」という条件をカット
            -- ※以下、参考
            -- [修正前]
            -- ・最終学期かつ右コンボが新入生の場合
            -- 　CLASS_FORMATION_DAT の OLD_GRADE が
            -- 　あれば、SCHREG_BASE_MST の NAME を表示
            -- 　なければ、FRESHMAN_DAT の NAME を表示
            -- ・それ以外の場合
            -- 　SCHREG_BASE_MST の NAME を表示
            -- [修正後]
            -- ・最終学期の場合
            -- 　CLASS_FORMATION_DAT の OLD_GRADE が
            -- 　あれば、SCHREG_BASE_MST の NAME を表示
            -- 　なければ、FRESHMAN_DAT の NAME を表示
            -- ・それ以外の場合
            -- 　SCHREG_BASE_MST の NAME を表示

2014/05/26  1.更新/削除等のログ取得機能を追加

2014/05/27  1.ログ取得機能修正 (画面表示データを取得するよう修正)

2016/09/20  1.プロパティー「useSchool_KindField」とSCHOOLKINDを参照 

2017/04/24  1.単位制かつプロパティー「useKeepGrade」が"1"のとき、新学年と旧学年をチェック

2017/08/07  1.ADMIN_CONTROL_PRG_SCHOOLKIND_MSTを使って、校種を制御する。
            --プロパティー追加：use_prg_schoolkind

2018/02/07  1.留年生を左に移す際のチェックの不具合修正
            -- 新・旧の学年が同じなのに留年生を複数選択していたらエラーになっていた

2018/03/30  1.新入生はA023から出力する。use_prg_schoolkind != "1"時、ログイン校種と一つ前の校種を表示

2018/04/02  1.プロパティー「use_prg_schoolkind」の校種制御の修正漏れ
            2.右の年組コンボにSCHOOLKINDの1つ前の校種の卒業可能学年の年組も表示
            -- 名称マスタ「Z010」中高一貫が"2"　かつ
            -- プロパティー「use_prg_schoolkind」が"1"以外　かつ
            -- プロパティー「useSchool_KindField」が"1"のとき

2018/04/03  1.右のリストのクラスコンボは、CLASS_FORMATION_DATのOLDがある分出力する。

2018/04/06  1.新入生はA023から出力する条件修正。
            -- use_prg_schoolkind == "1"且つ、A023.ABBV2設定ありの時、ログイン校種と一つ前の校種を表示
            -- 上記以外で、A023.ABBV2設定ありの時、ログイン校種のみ表示
            2.新入生の出力条件も、ADMIN_CONTROL_PRG_SCHOOLKIND_MSTを使って、校種を制御する。

2019/12/26  1.プロパティー「KNJA080_ExceptFreshMan」が'1'の時、新入生コンボなし。

2020/04/02  1.前の校種から進級する学年の条件にA023.ABBV2の進行順を追加

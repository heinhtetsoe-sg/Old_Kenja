# kanji=漢字
# $Id  $

2006/02/21  alp m-yama NO001 freshman_dat変更に伴う修正。
2006/03/11  alp m-yama NO002 freshman_dat変更に伴う修正。

2007/03/30  alp m-yama NO003 レイアウトの変更。

2007/04/10  alp m-yama NO004 保護者データ取込処理を追加。

2007/05/01  alp m-yama NO005 日付データを’/’→’-’に置換する。

2007/07/11  CSV登録
            バグ修正：出身学校コード7桁なのに、6桁分のみゼロ埋していた
                      テンプレートの出身学校コードも6桁→7桁

2008/03/26  近大の場合は、課程・学科・コースのチェックをしない。

2008/03/28  学年コンボを追加。法政の場合、４学年指定を追加。

2008/09/26  1.「法政の処理」を「併設校（法政・智辯）の処理」に変更した。

2009/04/01  1.ヘッダ出力（見本）の氏名、学籍番号の順序を修正

2009/09/11  1.ラジオボタン、チェックボックスにラベルを追加した。

2010/04/01  1.「氏名」、「氏名かな」のチェック桁数を変更した。

2010/12/03  1.保護者住所データ登録処理を追加した。
            2.下記の修正をした。
            -- デフォルト値を学校マスタの入学日＋1、卒業日+4にした。
            -- 日付の使用可否の追加
            3.住所2出力のデフォルト値をOFFにした
            4.popUpCalendarAlp2を使用すると、カレンダー選択でエラーとなるのでpopUpCalendarAlpを使用する。
            5.クリア処理を追加

2010/12/13  1.下記の修正をした。
            -- レイアウトの変更
            -- 住所終了日を3月31日固定にした。

2010/12/17  1.FRESHMAN_DATのテーブル変更（３項目追加）に伴い修正。
            -- 入学者の場合も「住所2出力、住所開始日、住所終了日」を入力可能にした。
            -- FRESHMAN_DATに「住所2出力、住所開始日、住所終了日」を追加した。

2010/12/20  1.レイアウト変更

2011/01/27  1.デフォルト値を修正 卒業日+3にした。

2011/09/06  1.FRESHMAN_DAT変更に伴う修正。
            -- 入学者のCSVレイアウトに、「課程入学年度」項目を追加した。
            -- FRESHMAN_DATに「課程入学年度（CURRICULUM_YEAR）」を追加した。
            -- rep-freshman_dat_rev1.10.sql

2012/03/19  1.CSV項目「受験番号、地区コード」追加に伴い修正
            -- FRESHMAN_DATのEXAMNO、AREACD
            -- rep-freshman_dat_rev1.11.sql
            
2012/03/22  1.新入生データCSV取込処理「入学者データ」のフォーマットを地区コード、受験番号、DUMMY の順に修正
            2.新入生データCSV取込処理「入学者データ」のヘッダーに必須項目部分は※を追加
            3.新入生データCSV取込処理「入学者データ」の必須項目に入学区分、氏名を追加
            4.新入生データCSV取込処理「入学者データ」の必須チェック追加用のProperties[FRESHMAN_DAT_HissuCheck]=1のときに、課程入学年度、地区コードを必須項目とする
            
2012/03/26  1.新入生データCSV取込処理のDUMMYにエラーチェック追加（必須、文字チェック）
            2.新入生データCSV取込処理「保護者データ」に学籍番号の重複チェックを追加
            
2012/04/23  1.AREACDがnullの時、0をセット
            2.AREACDに数字チェック追加
            
2012/04/24  1.AREACDがnullの時の仕様統一（KNJX030,KNJA040,KNJA110A）
                - AREACDがnullの時、'00'をセット
                
2012/10/24  1.Properties["useMusyouKaisu"] == "1"のとき、無償回数を取り込む処理追加

2013/04/03  1.受験番号のサイズを可変にする。(プロパティー：examnoLen)" 

2013/12/06  1.住所のサイズ変更等に伴う修正
            -- rep-freshman_dat_rev1.15.sql
            -- rep-guardian_dat_rev1.4.sql
            -- rep-guardian_address_dat_rev1.5.sql

2014/05/26  1.更新/削除等のログ取得機能を追加

2016/02/09  1.小学校、幼稚園対応

2016/03/28  1.日付エラーチェックの修正

2016/04/26  1.学年コンボの参照先にSCHREG_REGD_GDATを追加

2016/09/21  1.プロパティー「useSchool_KindField」とSCHOOLKINDを参照 

2017/03/21  1.SCHREG_BASE_DETAIL_MST更新のDBエラー修正

2017/03/22  1.日付の妥当性チェック内に数値・サイズチェック追加

2017/03/30  1.選択した学年で更新するよう修正

2017/04/25  1.ADMIN_CONTROL_PRG_SCHOOLKIND_MSTを使って、校種を制御する。
            --プロパティー追加：use_prg_schoolkind

2017/10/13  1.プロパティーuseFinschoolcdFieldSizeが12ならコードの0埋め、チェックを12桁でおこなう

2018/01/22  1.住所開始日、住所終了日を修正
            -- 初期値は学校マスタ参照に変更（校種参照あり）
            -- 住所終了日の初期値で卒業日付に加算する年を校種で変更(P→6、P以外→3)
            2.校種を変更したとき、住所開始日、住所終了日を初期化した

2018/02/27  1.CSVからの読み込み処理で、保証人の続柄のデータ取得時に0埋めされていなかったのを修正

2018/05/01  1.住所終了日のデフォルト値を次年度の学校マスタ卒業日付年度+指定校種の「A023」開始学年～終了学年の差分年度の3/31に変更
            -- 3年後卒業に対し、4年後の日付が設定されていた

2018/05/09  1.入試区分追加

2018/07/26  1.住所2出力チェックボックスの初期値をチェックonに変更

2019/01/18  1.CSV出力の文字化け修正(Edge対応)

2019/02/12  1.以下の修正
            --学年コンボの参照を変更
            --取込項目に学年を追加

2019/02/16  1.入試区分の長さチェックを1桁→2桁に変更
            --入試区分の名称マスタ存在チェックをカット

2019/02/18  1.土佐塾の時、入試区分の名称マスタ存在チェックを追加
            2.NAME_MST(Z053)追加に伴う修正

2019/02/20  1.rev.59986に戻した
            2.CSV出力の文字化け修正(Edge対応)
            3.中高一貫(Z010.NAMESPARE2=1)で中学の時。住所終了日を＋３

2020/03/24  1.保護者メールアドレスを50桁まで取込可能に修正

2020/03/31  1.日付の妥当性チェック修正

2020/08/12  1.最終学期でのログインのみ有効のメッセージの統一。MSG300 → MSG311
            -- View.php(rev.75964)

2020/08/27  1.CSV DUMMYの名称をLASTCOLUMNに修正

2020/11/12  1.プロパティー「NAME_INPUT_SIZE」に値が設定されている時、氏名、保護者氏名、保証人氏名の入力文字数がこのプロパティ値以下かチェックするよう、変更
              ※未設定時は既存値。
            2.プロパティー「chkNameInputHankaku」= 1の時、氏名、保護者氏名、保証人氏名に半角文字が混ざっていないか、チェックするよう、変更
            3.プロパティー「chkAddrInputHankaku」= 1の時、住所1/2、保護者住所1/2、保証人住所1/2に半角文字が混ざっていないか、チェックするよう、変更
              -- プロパティー「NAME_INPUT_SIZE」追加
              -- プロパティー「chkNameInputHankaku」追加
              -- プロパティー「chkAddrInputHankaku」追加
            4.変数宣言記載漏れを修正

2020/11/26  1.リファクタリング
            2.CSVの最終列をDUMMYかLASTCOLUMNで扱うかを設定ファイルの内容で切り替えるように変更

2020/12/02  1.プロパティー「ADDR_INPUT_SIZE」に値が設定されている時、住所1/2、保証人住所1/2の入力文字数がこのプロパティ値以下かチェックするよう、変更
              -- プロパティー「ADDR_INPUT_SIZE」追加

2021/01/15  1.CSVメッセージ統一(SG社)

2021/04/29  1.CSVメッセージ統一STEP2(SG社)
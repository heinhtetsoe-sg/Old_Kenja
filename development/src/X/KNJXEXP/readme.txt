# kanji=漢字
# $Id: readme.txt 70625 2019-11-12 02:54:01Z gushiken $
/*** KNJXEXP_ＨＲリスト画面 readme.txt***/

2004/07/16 組コード3ケタ対応
2005/05/31 参照可・制限付権限で、
           担当以外のHRクラスを選択表示が行える。担当分の選択表示可能へ修正。
2005/06/29 正担任2、正担任3、副担任1、副担任2、副担任3を表示・選択可能に修正
2005/06/29 納品
2005/11/28 卒業生検索、卒業組テキストボックス、英文字入力可へ修正

2006/02/21 alp o-naka 千代田区に対応するための修正

2007/01/19 alp o-naka 年度コンボを追加し、各プログラムから表示・非表示を選択できるように修正した。

2007/02/06 alp o-naka 年度コンボのリストについて、過去１年から選択できるように変更した。

2007/08/15 alp s-yama 名称マスタ「Z010」のNAMECD2を'00'に修正した。

2008/05/28  智辯&&プログラムＩＤが"KNJD105B"のとき、'06'より大きい学年を出力しないように変更した。

2008/07/25  智辯&&プログラムＩＤが"KNJD105B"のとき、'10'より大きい学年を出力しないように変更した。

2009/03/07  1.KNJA110A追加に伴う修正

2009/03/10  1.プログラムＩＤが"KNJF150"のとき、日付も検索条件に加える（NURSEOFF_VISITREC_DATを参照）

2009/03/11  1.Javascriptに関数追加：nextStudentOnly（更新無しの生徒移動）

2011/03/22  1.パラメータにSEND_AUTHを追加した。

2012/10/17  1.プロパティーファイルにKNJXEXP_SEARCHを追加した。
            -- ソート指定出来るよう修正、KNJXEXP_SEARCH=SCHREGNO 学籍番号順
               今のところ学籍番号順以外は、出席番号順としている。
               
2013/04/10  1.プロパティKNJXEXP_SEARCH=SCHREGNO の時、入学年度+学籍番号順に修正

2013/04/11  1.プロパティKNJXEXP_SEARCH=SCHREGNO の時、学籍番号上4桁降順、下4桁昇順に修正
            2.修正

2014/08/27  1.ログ取得機能追加

2015/03/23  1.年組コンボに学校種別の条件を追加
            -- KNJA125J => "J"のみ
            -- KNJA120A => "H"のみ

2015/10/26  1.制限付きの時、学年主任の権限追加

2015/11/13  1.データ変更後更新せずに、生徒を選択しようとしたらエラーメッセージ表示する。

2016/01/22  1.校種パラメータが渡されたとき、年組コンボ・生徒取得に条件を追加（卒業生検索は除く）

2016/02/24  1.前回の修正漏れ（初期化）

2016/06/01  1.KNJD105Bからコールされた際のエラー修正

2016/06/16  1.校種条件追加
            -- プロパティー「useSchool_KindField」とSCHOOLKINDを参照

2016/09/21  1.卒業生の校種指定追加
            -- プロパティー「useSchool_KindField」とSCHOOLKINDを参照 

2017/03/29  1.パラメータ"unUseSchoolkind=1"が渡されたとき、校種条件をカット。
            2.年組コンボの担当保健室での制限処理追加
            -- KNJF150、プロパティー「useNurseoffRestrict」が"1"、制限付のとき使用

2017/03/31  1.生徒表示に担当保健室での制限処理追加
            -- KNJF150、プロパティー「useNurseoffRestrict」が"1"、制限付のとき使用

2017/04/04  1.担当保健室での制限処理対象プログラムにKNJF150Aを追加

2017/04/18  1.ADMIN_CONTROL_PRG_SCHOOLKIND_MSTを使って、校種を制御する。
            -- プロパティー追加：use_prg_schoolkind

2017/04/19  1.MENUからのパラメーター受け取りは、Model.phpで行う
            2.パラメーター追加。grdGrade=1の時、卒業学年のみ表示する。A023のNAMESPARE2～NAMESPARE3

2017/09/19  1."卒業組"テキストボックスを"卒業年組"コンボに変更

2017/09/27  1.卒業年組を卒業年度で縛る修正

2017/09/28  1.卒業年度コンボのソート順を降順に修正

2018/04/11  1.プロパティーファイルにKNJXEXP_SEARCHの値(SCHREGNO_NORMAL)を追加した。
            2.SCHREGNO_NORMALの場合もSCHREGNO指定と同様に学籍番号欄を先頭に表示

2018/06/22  1.Z010"chiyoda"の条件をカット

2019/03/18  1.「nextLink」メソッドへ画面ロックの解除を追加

2019/07/18  1.knjxexpModelのsendAuthの値をクリアする処理追加
            -- NAME_MSTのNAMECD1='A022'の時、NAMESPARE='1'なら年度がコンボに切り替わる (対象PRGIDはNAME1で指定)

2019/07/30  1. 検索に学籍番号の条件指定を追加
            2. 学籍番号のテキストボックスのサイズ調整

2019/07/31  1. パラメータ受け取りに「GRADE」を追加

2019/11/12  1. 生徒検索で、学籍番号の「一部一致」検索を可能とする
             - プロパティ「schregno_bubunkensaku = '1'」のとき部分一致検索とする

2021/01/06  1. リファクタリング
            2. 生徒検索機能の検索条件に「入学区分」「卒業区分」「異動区分」を追加

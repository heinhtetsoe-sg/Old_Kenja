# kanji=漢字

2007/06/28  新規作成
            順位に学年を追加した

2007/06/29  レイアウト変更

2008/02/19  偏差値、順位のSQL修正

2008/07/11  1.テーブル追加に伴う修正(MOCK_RANK_DAT)

2008/08/13  1.MOCK_AVERAGE_DAT更新処理追加。
            2.フィールド名変更に伴う修正

2008/10/22  1.オブジェクト作成を共通処理にした。
            2.MOCK_RANK_DATに科目単位/3科/5科集計を追加した。

2008/11/21  1.MOCK_RANK_DATの席次が正しくないのを修正した。

2009/11/18  1.偏差値での順位を追加:MOCKDIV=3

2009/11/19  1.テスト名称コンボの追加と、偏差値(MOCKDIV=3)の得点は換算した値を使用

2009/11/20  1.換算した値は、切上げる
            2.換算処理修正

2009/12/15  1.平均点(得点/満点*100)での順位を追加:MOCKDIV=4
            2.MOCK_AVERAGE_DATにフィールド追加、平均点(得点/満点*100)を登録
            -- rep-mock_average_dat.sql-1.1
            3.計算式の修正
            4.最高、最低得点に換算した値を入れる。

2010/01/14  1.9科目の登録があれば、固定ALL9科目を上書く

2010/01/27  1.ALL9登録時の削除処理の不具合修正
            -- 削除の際に学籍番号の指定がなかった

2010/02/15  1.合算科目（3科、5科等）は、得点有りの科目数（教科数）が合算科目数以上の生徒が対象
            -- rep-mock_dat.sql-1.2

2010/02/18  1.合算科目（3科、5科等）は、得点有りの科目を教科で纏める。
              但し、1科目でも欠課(SCORE_DI='*')があればその教科は除外する。
            2.科目を取得する際に、得点無しを抜いていたが、無しでDI='*'は含めて処理する。

2010/09/10  1.合算科目以外での、999999科目も。得点無しで、DI='*'は含めて処理する。
            2.得点無しの条件が多かったので削除

2010/09/26  1.プロパティー追加(deviationAvgRank)が1の場合、合算科目の偏差値順位を各科目の偏差値平均で算出する。

2010/10/07  1.プロパティー追加(notGroupCnt)が1の場合、合算科目の科目数チェックをしない。

2010/01/15  1.科目数チェックの修正
            2.テスト名称にCD追加

2010/01/20  1.SCORE_DI='*'は、合算（3科、5科等）の時に偏差値、順位の対象から除外する。

2011/01/31  1.得点、平均点で順位を付ける場合にNullのデータもある為、それらは-1として順位を付け最終的にNULLで更新。
            2.SCORE_DI='*'も-1として順位を付け最終的にNULLで更新。

2011/09/14  1.2010/09/10の2.得点無しの条件が多かったので削除を元に戻す

2011/09/14  1.下記の修正をした。
            -- MOCKDIV=1の平均をパーフェクトを使用するよう変更(MOCKDIV=4の計算と一緒)
            -- MOCKDIV=2の平均をパーフェクトを使用するよう変更(MOCKDIV=4の計算と一緒)よって順位に使う平均も変更
            -- MOCKDIV=2の変更に伴い、MOCKDIV=2と4が同一となる為、4は作成するが未使用とする。

2011/11/22  1.プロパティー追加(deviationAvgRank)が1の場合の、偏差値を小数点第二位で四捨五入する。

2011/11/30  1.偏差値算出時に使用する平均値は、小数点第一位までとする(第二位を四捨五入)

2012/06/26  1.プロパティー「useCurriculumcd」を追加した。
            -- '1'がセットされている場合は教育課程コード等を使うようにした。

2012/06/27  1.プロパティファイルの読込みを二重にしていたのでカット。

2021/02/02  1.コード自動整形
            2.プロパティーがうまく読み込めていない不具合修正（initへ移動）

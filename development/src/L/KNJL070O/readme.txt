// kanji=漢字
// $Id: readme.txt 65798 2019-02-19 11:14:25Z nakamoto $

KNJL070O_合否判定処理（ライン入力）
------------------------------------------------------------
※仕様
・ライン合否区分（judgeline）
    合否区分（judgediv）と同じ値で更新。
・合格クラス（judgeclass）と入学クラス（entclass）
    合格の場合は、
        入試区分が一般入試なら「1:一般クラス」で更新。
        入試区分が選抜入試なら「2:選抜クラス」で更新。
    不合格の場合は、「NULL」で更新。

※更新対象者
・受付データ
    合格
        今回のシミュレーションで合格した人。
    不合格
        今回のシミュレーションで不合格した人。
・基礎データ
    合格
        今回のシミュレーションで合格した人。
        過去に１度も合格したことが無い人。（入学クラスを上書きしないため）
    不合格
        今回のシミュレーションで不合格した人。
        全受付データで１度も合格したことが無い人。
------------------------------------------------------------

2008/12/20  1.定員は名称マスタ「L004」略称２を表示。試験区分は名称を表示。

2008/12/21  1.以下の更新フィールドを追加。
            --受付：ライン合否区分（judgeline）、合格クラス（judgeclass）
            --基礎：入学クラス（entclass）

2009/01/14  1.入学クラスが”2:選抜クラス”の場合は更新しない。

2012/12/13  1.２科目型の処理を削除

2012/12/29  1.判定対象＝４科目でシュミレーションしても結果が表示されない不具合修正
            -- 前回修正（２科目型の処理を削除）の修正漏れ

2013/05/20  1.入試区分マスタ化に伴い修正

2013/10/10  1.入試区分マスタのクラス区分変更に伴う修正
            -- 1:特別進学クラス
            -- 2:英数特科クラス
            -- ※コード整理（逆になった）

2013/11/19  1.入試区分マスタのクラス区分変更に伴う修正
            -- 1:特別進学クラス
            -- 2:英数特科クラス
            -- null:特待生選抜入試の正規合格者（入学手続時にクラス確定）
            2.特待生選抜入試の場合、合格クラス（judgeclass）と入学クラス（entclass）はNULLとする。
            3.特待生選抜入試の場合、正規合格者は特待区分(honordiv)を1:特待とする。

2013/11/20  1.特待生選抜入試の場合、入学クラス（entclass）は更新しない。
            -- 入学手続時にクラス確定

2013/11/22  1.特待生選抜入試の対応

2013/11/26  1.１度も合格していない生徒を2:不合格で登録
            -- やり直しの対応。現状の仕様に戻した。

2014/01/14  1.正規合格者について、以下の通り修正
            -- 特待生選抜入試の場合、入学クラス（entclass）をNULLで更新する。
            -- 特待生選抜入試以外の場合、入学クラス（entclass）を更新しない。

2014/01/30  1.措置(SPECIAL_MEASURES)をNULLで上書きする処理をカット

2016/01/14  1.定員数の合計値が正しくない不具合修正

2018/12/27  1.リファクタリング
            2.ライン種別の追加
            3.特Tで合格した生徒は、ENTEXAM_RECEPT_DAT.HONORDIVに’1’をセットする。

2019/01/14  1.履歴は指定された入試区分のみ表示

2019/01/15  1.特待合格時のENTCLASSの更新。Null → 2固定

2019/02/19  1.ENTCLASSの更新処理を修正
            -- ENTEXAM_APPLICANTBASE_DETAIL_DAT(SEQ=037)のREMARK1、REMARK2にENTCLASS情報を保持し、
            -- それを参照して更新するように修正
            2.確定ボタン押下時のシミュレーション実行有無チェックにライン種別条件追加
            -- entexam_judge_tmp.sql (rev.65797)

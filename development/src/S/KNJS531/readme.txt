# kanji=漢字
# $Id: readme.txt 72220 2020-02-05 12:00:45Z yamauchi $

/*** KNJS531行事予定マスタ登録 readme.txt***/

2011/09/21 1.新規作成

2011/10/31 1.年度コンボの表示修正
             - 学年（SCHREG_REGD_GDAT）の年度に関係なく、EVENT_DATにあるデータの年度を表示
             
2014/04/04 1.文言修正

2014/04/09  1.フィールド追加(EVENT_FLG)に伴う修正
            2.学年の行事マスタが複数ある場合、課程学科の最小値からデータを取得するよう修正
            3.反映する行事マスタ（学校、学年）がない場合にエラーメッセージを出力

2014/04/10  1.行事マスタ反映処理は、行事マスタ（学校、学年）がある場合のみ実行するよう修正
               - 行事データ、時間割データは行事マスタ（学校、学年）がある場合のみ削除される。
                
2015/05/13  1.プロパティ「useGhrcd」= '1'の時、複式クラスを使うよう修正
            2.画面レイアウト修正
            3.行事マスタ反映の優先データは年組のマスタデータ→学年のマスタデータ→学校のマスタデータの順番(小学校、中学校)で反映
               - 高校は年組の指定はないので、従来どおり課程学科の最小値からデータを取得し反映
               
2015/05/18  1.プロパティ「useFi_Hrclass」= '1'の時、FI複式クラスを使うよう修正
                - プロパティ「useGhrcd」= '1'はカット            
               
2015/06/11  1.プロパティ「useFi_Hrclass」= '1'の時、「年組」を「複式年組」に変更

2015/02/08  1.学年別一括作成ボタン追加

2016/06/03  1.プロパティ「useFi_Hrclass」= '1'の時、クラス選択ラジオボタンを表示
            -- それ以外は法定クラスとする
            -- プロパティ「useFi_Hrclass」での切替や値のセットをクラス選択ラジオボタンに変更

2016/06/07  1.更新時の削除処理にクラス区分参照を追加
            2.行事マスタ反映でのクラス区分参照を変更
            -- プロパティ「useFi_Hrclass」= '1'＆高校のとき、データは固定'2'で取得。選択した値で更新
            -- 上記以外は選択した（セットされた）値でデータ取得＆更新

2016/06/28  1.行事マスタ反映のHR_CLASS_DIVの値セットの条件式を変更

2016/08/02  1.データ行事名を全角10文字までに変更
            2.行事マスタ反映処理で行事名は30バイトまで取得し更新に変更

2016/10/26  1.EVENT_SCHREG_DAT追加に伴い修正
            -- プロパティ「useSpecial_Support_Hrclass」参照
            -- 処理区分ラジオボタン追加

2016/10/27  1.テーブル変更に追加に伴い修正
            -- EVENT_SCHREG_DATから"HR_CLASS_DIV"カット

2016/12/13  1.校種対応

2017/04/21  1.ADMIN_CONTROL_PRG_SCHOOLKIND_MSTを使って、校種を制御する。
            --プロパティー追加：use_prg_schoolkind

2018/08/17  1.年組行事データ反映(指定月分)ボタン追加
            -- 処理区分ラジオボタンが表示されるとき、表示
            -- 個人（訪問生）を選択 かつ 生徒を選択したとき、使用可

2019/09/04  1.useEventAbbvプロパティが立っている場合、行事略称の入力項目を表示する処理を追加
            --EVENT_DAT、EVENT_SCHREG_DATにEVENT_ABBV追加
            --useEventAbbvプロパティ追加

2019/12/05  1.行事マスタ反映(指定月分)ボタンを押した際、DBエラーが発生する不具合に対応

2020/02/05  1.テーブル構成が学校によって異なる件に対応

2021/03/10  1.京都PHPバージョンアップ対応
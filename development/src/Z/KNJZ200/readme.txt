# kanji=漢字
# $Id: readme.txt 76436 2020-09-04 08:17:40Z arakaki $

/*** KNJZ200単位マスタメンテ readme.txt***/

2005/01/28 欠時数上限値対応
2005/07/29 欠課数オーバーxx週間前警告」を入力するように対応

2006/03/10 alp o-naka NO001「半期認定フラグ」と「無条件履修修得フラグ」を追加
2006/03/16 alp o-naka NO002「無条件履修修得フラグ」チェック時、欠課数上限値に'99'を自動セットしないよう変更

2007/05/11 alp m-yama NO003 リストを科目コード順にソートする。

2007/06/12 alp s-yama 固定文字「必須」→「必履修区分」に変更した。
                      必履修区分をコンボボックスに変更した（名称マスタ：Z011）

2009/03/31  1.追加、更新した際にスクロールバーを対象となった行へ移動させる処理を追加

2009/04/30  前年度からのデータ取得ＳＱＬの条件に"grade"を追加した。

2009/07/30  1.リファクタ
            2.「欠課数上限値」に「修得」を追加。
            3.法定・実授業のフラグが実授業の場合欠課数上限値は入力不可とする修正
            4.DB接続のエラー修正
            5.追加の処理の修正

2009/08/07  1.法定・実授業のフラグが実授業の場合欠課数上限値は入力不可とする処理をカット

2009/10/27  1.引数にマイナスが入っていたために出ていたエラーを修正

2010/05/21  1.科目コンボに科目コードでソート追加

2010/06/15  1.「欠課数オーバ」を学期ごとに設定できるよう修正(rep-credit_mst_rev1.9.sql)

2010/07/16  1.一括処理画面を追加した。

2010/09/17  1.法定・実授業のフラグが実授業の場合欠課数上限値は表示しない。

2010/09/22  1.【一括処理】ボタンをおすと、以下のエラーが出る不具合を修正。
            -- 「Fatal error: Cannot use string offset as an array in」

2010/09/24  1.欠課数オーバーの文言変更。
            -- 名称マスタ「C042」「01」の「namespare1」が
            -- 「1」の時は、前期xxx回前警告
            -- 「1以外（初期値）」の時は、前期xxx週間前警告
            -- と、画面表示する。

2011/10/17  1.更新等のあとにコースコンボボックスが初期値に戻る不具合を修正した。

2011/12/21  1.教育課程の追加、追加に伴う修正
              - Properties["useCurriculumcd"]=1のときのみ、教育課程処理に対応
              
2012/06/14  1.前年度からコピーを修正
                - 今年度のSCHREG_REGD_DATの「学年+課程学科コースコード」をグループ化し、データが存在するものをコピーする

2012/07/18  1.一括処理画面を修正した。
            -- 更新処理をDELETE&INSERT→INSERTorUPDATEに変更（チェックの項目のみ更新）
            -- 単位の必須入力を外し、チェックボックスに変更
            -- 追加のとき、単位が空だとレコードを作成しない。
            -- 法定欠課数上限値欄を追加
            
2012/09/10  1.教育課程の追加に伴う修正対応

2012/11/02  1.SCHREG_REGD_DATが1件もない場合、SCHREG_REGD_GDATを使用する。

2014/11/02  1.コピーの条件：SCHREG_REGD_DATが1件もない場合の条件に、学年指定を追加

2014/07/17  1.ログ取得機能追加
            2.一括処理画面のレイアウト修正
            
2015/01/08  1.フィールド追加(TIME_UNIT)に伴う修正
                - Properties["useTimeUnit"]=1のときのみ、時間単位の項目を表示
            
2015/01/11  1.単位数の必須項目チェックは学校種別が'H'の場合のみ実行する

2015/01/13  1.文言修正
                - 時間単位 → 単位時間
                
2015/01/15  1.更新時のUPDATEDのチェックをカット

2015/01/20  1.更新時のUPDATEDのチェックのカットを取り消し、Properties["useTimeUnit"]=1のときのみチェックしない仕様に変更

2015/11/09  1.CSV出力、取込機能を追加

2015/12/25  1.校種コンボ追加
            2.コースコンボの学年名を"SCHREG_REGD_GDAT.GRADE_NAME1"に変更
            3.コースコンボの表示の位置調整を変更

2016/04/08  1.在籍データが0件の際のDBエラー修正

2016/09/19  1.（左画面）コピー処理、校種コンボ、コースコンボ、一覧表示修正
              （右画面）科目コンボ、CSV処理修正
              （一括処理画面）科目リスト修正
            -- プロパティー「useSchool_KindField」とSCHOOLKINDの参照

2017/09/05  1.ADMIN_CONTROL_PRG_SCHOOLKIND_MSTを使って、校種を制御する。
            -- プロパティー「use_prg_schoolkind」参照

2018/08/08  1.CSV取込みで校種エラーになる不具合を修正

2019/01/18  1.CSV出力の文字化け修正(Edge対応)

2020/04/16  1.フィールド追加(RATE)に伴う修正
                - Properties["useMultiplicationRate"]=1のときのみ、掛け率の項目を表示

2020/09/04  1.CSV DUMMYの名称をLASTCOLUMNに修正

2020/12/09  1.リファクタリング
            2.CSVの最終列をDUMMYかLASTCOLUMNで扱うかを
              設定ファイル「prgInfo.properties」のプロパティー「csv_LastColumn」で
              切り替えるように変更

2021/01/15  1.CSVメッセージ統一(SG社)

2021/02/15  1.PHP7対応

2021/04/29  1.CSVメッセージ統一STEP2(SG社)
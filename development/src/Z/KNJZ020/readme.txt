# kanji=漢字
# $Id: readme.txt 77047 2020-09-23 15:26:46Z yamashiro $

/*** KNJZ020学校マスタメンテ(東京) readme.txt***/

2005/01/28 欠課数、遅刻数の換算 追加
2005/09/13 DB更新(DELTE,INSERT)時、トランザクション処理もれ対応。

2006/05/08 o-naka NO001 欠課数換算区分を追加  3：学期ごとに清算(小数点あり) 4：年間で清算(小数点あり)

2008/07/01  1.CVS登録
            2.卒業履修単位数を追加した。

2009/04/01  1.「評定計算方法」と「授業時数・日数フラグ」を追加した。

2009/04/06  1.更新時、「評定計算方法」のチェック処理を追加した。

2009/04/08  1.文言を変更。「授業時数・日数フラグ」⇒「授業時数」。

2009/04/09  1.文言を変更。「授業時数 □ 休学を含む」⇒「休学時の欠課 □ カウントする」。

2009/04/13  1.「休学中の欠席」を追加。
            2.文言を変更。「休学時の欠課 □ カウントする」⇒「休学中のカウント □ 欠席 □ 欠課」。

2009/05/18  1.学期末保留値、学年末保留値を1行にまとめた。
            2.テーブルの変更に伴い、「休学中のカウント □ 欠席 □ 欠課」をカット。
            3.「欠席に含める □ 休学」、「欠課に含める □ 休学 □ 忌引 □ 出停 □ 出停伝染病 □ 公欠」を追加した。
            4."prgInfo.properties"で"useVirus = true"の時、出停伝染病チェックボックスを表示する。

2009/07/10  1.「評定計算方法」コンボボックスにブランクを追加。

2009/07/29  1.リファクタ
            2.詳細ボタンの追加

2009/08/06  1.ボタンに表示している文字の修正「詳細」⇒「他条件設定」

2009/11/27  1.更新ボタンを押した際「SCHOOL_DETAIL_DAT」の「SCHOOL_SEQ = '001'」の「SCHOOL_REMARK8」に
            -- 値がなければ「欠課数換算」を元に「上限値算出方法」をインサート又はアップデート

2009/12/11  1.「欠課数換算」に繰上げ追加
            2.文字修正「年間で清算(繰り上げ)」 ⇒ 「年間で清算(余りで換算)」

2010/03/24  1.「特活欠課数換算」の項目追加
            2.「二捨三入」を「一捨二入」に修正

2010/03/25  1.「一捨二入」を「二捨三入」に修正

2010/04/22  1.「availheight」を「availHeight」に修正

2010/05/07  1.学校マスタ側で選んだ年度を詳細側でも継続できるよう修正

2010/06/23  1.プロパティーファイルの参照方法を共通関数を使うよう修正

2011/03/09  1.「１日出欠席の判定方法」チェックボックスを追加。
            -- □忌引・出停の校時は１日忌引・１日出停とする
            -- チェック有りは、SCHOOL_DETAIL_DATのSCHOOL_SEQ='005'のSCHOOL_REMARK1に'1'を設定。
            -- これは、改訂版（１日出欠席の判定方法の変更版）の対応である。
            -- v_school_mst_rev1.15.sql

2011/03/15  1.文言変更。「１日出欠席の判定方法」
            -- 修正前：忌引・出停の校時は１日忌引・１日出停とする
            -- 修正後：１日出停、１日忌引判定（出停、忌引となった校時が１回以上）

2011/03/16  1.文言変更。「１日出欠席の判定方法」
            -- 修正前：１日出停、１日忌引判定（出停、忌引となった校時が１回以上）
            -- 修正後：出席校時が出停/忌引校時と混在した場合、1日出席とする。
                       欠席校時が出停/忌引校時と混在した場合、1日欠席とする。

2013/08/14  1.DI_CD'19','20'ウイルス/DI_CD'25','26'交止追加に伴う修正
            -- rep-attend_semes_dat.sql(rev1.9)
            -- rep-attend_subclass_dat.sql(rev1.11)
            -- v_attend_semes_dat.sql(rev1.7)
            -- v_attend_subclass_dat.sql(rev1.4) 
            -- v_school_mst.sql(rev1.20)

2013/08/19  1.欠課に含めるの出停/交止/伝染病の名称はC001から出力する。
            2.保留値欄のスペースを一部カット。

2013/12/11  1.住所のサイズ変更等に伴う修正
            -- rep-school_mst_rev1.9.sql

2014/07/03  1.ログ取得機能追加

2014/12/15  1.「特活欠課数換算」の項目に「0：換算なし」を追加

2015/02/03  1.CSV取り込み出力機能追加

2016/02/10  1.メールアドレス、ホームページを50桁に修正

2016/07/08  1.SCHOOL_MST、SCHOOL_DETAIL_DATのキー追加に伴う修正
            -- プロパティー「useSchool_KindField」とSCHOOLKINDで切替

2016/09/09  1.表左上にログイン年度のV_SCHOOL_MST.SCHOOLNAME2を表示
            -- プロパティー「useSchool_KindField」とSCHOOLKINDで表示切替

2016/11/21  1.授業時数設定ボタン追加(他条件との分離)
            -- プロパティー「use_school_detail_gcm_dat」で表示切替

2017/03/31  1.i18n_ja_jp_hantozen関数をmb_convert_kanaに変更

2017/08/16  1.ADMIN_CONTROL_PRG_SCHOOLKIND_MSTを使って、校種を制御する。
            --プロパティー追加：use_prg_schoolkind

2018/05/07  1.校種コンボ変更時の不具合を修正
            2.readme日付修正

2019/01/18  1.CSV出力の文字化け修正(Edge対応)

2020/07/14  1.年度コンボの情報を【年度追加】した時、【他条件設定】【グループウェア】（SCHOOL_DETAIL_DAT）を同時にコピー

2020/08/19  1.以下の修正をした
            --他条件設定画面(KNJZ021)を統合
            --更新ボタン押下時とCSV取込時の更新処理を共通化
            --CSV取込時のエラーチェックにKNJZ021のエラーチェックを統合
            --入力値エラー時のメッセージに項目名を表示
            --リファクタリング

2020/09/04  1.CSV DUMMYの名称をLASTCOLUMNに修正

2020/09/23  1.必須項目に※マークを付ける

2020/11/18  1.警告点区分、類型平均追加
            2.CSVの最終列をプロパティcsv_LastColumnで変更できるように修正
            3.警告点区分、類型平均追加(CSV対応)
            -- プロパティー「use_school_Detail_009」で表示切替

2020/12/09  1.不要なファイルを削除

2021/02/03  1.CSVメッセージ統一(SG社)

2021/02/08  1.警告点区分に空白行追加

2021/03/10  1.京都PHPバージョンアップ対応

2021/03/19  1.レイアウト修正
            2.レイアウト修正

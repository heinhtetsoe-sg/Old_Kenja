# kanji=漢字
# $Id: readme.txt 56585 2017-10-22 12:47:53Z maeshiro $

/*** 東京 KNJC020_出欠入力確認（職員） readme.txt***/
2005/04/12 devel-utf8_広島よりコピーし変更作業開始
2005/04/13 東京-作業依頼書20050412-01｢東京都成出欠力、15校時対応｣
           校時コード(1～M)22校時表示可能
           科目名表示、講座名表示選択可能へ対応
2005/04/15 納品
2005/05/06 賢者-作業依頼書20050506_01 現状の講座担当から、ログイン職員に変更。
2005/05/30 納品
2005/06/07 前回修正のもれ
2005/08/29 同時展開群情報が存在する場合のHRクラス*の表示は小さい方を表示へ変更。
2005/09/15 前回修正(2005/08/29)の校時が変わった場合の条件処理もれ
2005/09/16 上記作業、先生が変わった場合の条件も追加。
2005/12/07 ・校時タイトルバーの表示を時間割フレームの内・外に切換え表示
           ・表示対象データの日付、曜日の表示
2006/02/02       alp m-yama SCH_STF_DATに同校時、同講座があった場合SCH_STF_DATを優先する。
2006/04/21 NO001 alp m-yama 郡以外の複数クラス表示を最初のクラスを表示するよう修正。
2006/05/17 NO002 alp m-yama ソートを受講クラス順にする。

2006/09/19 m-yama   校時の表示を固定→可変に修正した。

2007/02/23 m-yama   SCH_CHR_HRATE_DATの更新処理を追加した。
                    SQL文作成をメソッドにした。

2007/02/24 m-yama   出欠中は、黄色表示に変更した。

2007/03/15 m-yama   複数の出欠中も、黄色表示に変更した。

2007/03/15  クラス名表示を修正した。

2009/05/12  1.詳細画面の表示サイズ変更
            2.SCH_CHR_COUNTFLGのCOUNTFLGの設定状況を記号で表す。

2009/05/13  1.表示文字の修正(結果 ⇒ 欠課)

2009/05/15  1.記号についての説明文修正

2009/05/21  1.記号についての説明文修正(欠課集計あり ⇒ 欠課集計なし)

2009/05/27  1.講座コードを配列の２番目に移動
            -- 講座コードを元にSQL取得等をしていたが、配列の後方にあった為
               一つ前の講座コードを参照していた。これが原因で色が違う等の不具合がおこった。

2009/07/10  1.IE8で実行した場合、スクロールしないとボタンが見えないのでサイズを調整した。

2009/08/26  1.管理者は、出欠制御日付のチェックをしない。

2010/04/20  1.「availheight」を「availHeight」に修正

2010/06/28  1.授業形態表示追加

2010/08/02  1.○を表示する。

2010/09/17  1.集計フラグを参照するテーブルを以下の通りに修正。
            -- [SCH_CHR_DATのDATADIV = '2']
            --     テスト項目マスタの集計フラグを参照する。
            -- [SCH_CHR_DATのDATADIV = '0'または'1']
            --     SCH_CHR_COUNTFLGの集計フラグを参照する。

2010/09/30  1.ボタン文言変更
            2.ボタン文言変更

2011/07/26  1.プロパティー「useTestCountflg」による考査項目マスタメンテの切り替え処理を追加した。

2012/01/11  1.教育課程の追加、追加に伴う修正
            -- Properties["useCurriculumcd"]=1のときのみ、教育課程処理に対応

2013/01/31  1.SCH_CHR_HRATE_DATの削除では、年組を参照しない。

2013/03/11  1.全員出席時にATTEND_DATがあれば、ダイアログを表示する。

2013/03/24  1.ダイアログ表示は、toHTMLではなくtoHTML2を使用する。

2013/04/09  1.ダイアログ表示での、不具合を修正
            2.修正
            
2013/04/10  1.出欠入力確認のメッセージの文言修正
              - 全員出欠 ⇒ 全員出席
            2.出欠入力確認のメッセージ全体の文言修正

2013/04/12  1.ダイアログ表示での、不具合を修正

2013/04/17  1.ダイアログ表示での、不具合を修正

2013/10/10  1.ダイアログ表示をプロパティーで切り替える。
            -- unUseAttendDialog = 1

2014/01/16  1.時間割の選択をIE9(非互換モード)で動作するように修正
            2.時間割の色の変更をIE9(非互換モード)で動作するように修正
            3.選択した時間割の講座コード取得処理をIE9(非互換モード)で動作するように修正

2014/01/17  1.時間割の選択をIE11で動作するように修正

2014/02/02  1.パラメータuseTestCountflgによってテスト項目マスタのテーブルを変更するように修正
            -- TESTITEM_MST_COUNTFLG_NEW_SDIV 使用はSCORE_DIV = '01'指定

2014/04/14  1.パラメータnotShowStaffcdによって職員コードを表示しないように修正

2014/04/18  1.再サブミットせずに職員の行へのスクロールするように修正

2014/05/28  1.更新/削除等のログ取得機能を追加

2014/09/22  1.時間割の実施済みフラグがテーブルにある場合、全員出席/入力取消時に更新するように修正

2015/04/20  1.職員の並びを修正
                - SECTIONCD + STAFFCD

2015/06/18  1.表示処理速度改善
            2.プロパティーknjc020RestrictedShowLoginStaffOnlyが1の場合、出欠入力確認（職員）で制限付き更新可と制限付き参照はログイン職員の行のみを表示する

2015/08/28  1.IE9以降で詳細ボタン、出欠入力画面へボタンで開いた画面に講座コードパラメータが渡るように修正

2015/09/02  1.IE9以降でセルに色がつかない不具合を修正（属性の値にダブルクォートの囲み追加）

2015/10/21  1.アプレットの画面を閉じた際に分離型でも元画面を更新するように修正

2021/03/10  1.京都PHPバージョンアップ対応
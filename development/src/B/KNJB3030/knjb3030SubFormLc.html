{rval start}
{rval IFRAME}
<table width="100%" border="0" cellspacing="0" cellpadding="5">
  <tbody>
    <tr>
      <td nowrap>
      <table width="100%" border="0" cellspacing="10" cellpadding="0">
        <tbody>
          <tr class="no_search_line">
            <td colspan="2">
            <table width="100%" border="0" cellspacing="1" cellpadding="3">
              <tbody>
                <tr bgcolor="#ffffff">
                <th class="no_search">{rval NAME_SHOW}</th>
                <td width="25%" align="right">{rval btn_sentaku}{rval btn_back}</td>
                </tr>
              </tbody>
            </table>
            </td>
          </tr>
          <tr class="no_search_line">
            <td colspan="2">
            <table width="100%" border="0" cellspacing="1" cellpadding="3">
              <tbody>
                <tr bgcolor="#ffffff" height="40">
                <th class="no_search" width="15%">選択</th>
                <th class="no_search" width="%">組名称</th>
                <th class="no_search" width="%">組略称</th>
                </tr>
                            <!--{def data}-->
                            <!--{each data}-->
                <tr bgcolor="{rval data/backcolor}">
                <td nowrap width="15%" align="center" class="changeColor" data-name="CHECK{rval data/CHECK_NUM}" data-befColor="{rval data/backcolor}">{val data/CHECK}</td>
                <td nowrap width="%" align="left" class="changeColor" data-name="CHECK{rval data/CHECK_NUM}" data-befColor="{rval data/backcolor}">{val data/LC_NAME}</td>
                <td nowrap width="%" align="left" class="changeColor" data-name="CHECK{rval data/CHECK_NUM}" data-befColor="{rval data/backcolor}">{val data/LC_NAMEABBV}</td>
                </tr>
                            <!--{/each}-->
                            <!--{/def}-->
              </tbody>
            </table>
            </td>
          </tr>
          <tr class="no_search_line">
            <td colspan="2">
            <table width="100%" border="0" cellspacing="1" cellpadding="3">
              <tbody>
                <tr bgcolor="#ffffff">
                <td>
                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                  <tbody>
                    <tr>
                      <td align="right">{rval btn_sentaku}{rval btn_back}</td>
                    </tr>
                  </tbody>
                </table>
                </td>
                </tr>
              </tbody>
            </table>
            </td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
  </tbody>
</table>
{rval finish}
<script language="JavaScript">
    document.addEventListener('click', function(e) {tdChangeColor(e)});
    document.addEventListener('mouseover', function(e) {tdChangeColor(e)});
    document.addEventListener('mouseout', function(e) {tdChangeColor(e)});

    function tdChangeColor(e) {
        var t = e.target;
        if (t.className == "changeColor") {
            var objName = e.target.getAttribute('data-name');
            var objBefColor = e.target.getAttribute('data-befColor');
            targetCheckBox = document.getElementById(objName);
            switch (e.type) {
                case "mouseover":
                    targetCheckBox.parentNode.parentNode.style.backgroundColor = "pink";
                    targetCheckBox.parentNode.style.backgroundColor = "pink";
                    break;
                case "mouseout":
                    targetCheckBox.parentNode.parentNode.style.backgroundColor = objBefColor;
                    targetCheckBox.parentNode.style.backgroundColor = objBefColor;
                    if (targetCheckBox.checked) {
                        targetCheckBox.parentNode.style.backgroundColor = "#ccffcc";
                    } else {
                        targetCheckBox.parentNode.style.backgroundColor = "white";
                    }
                    break;
                case "click":
                    if (e.target.type != "checkbox") {
                        targetCheckBox.checked = targetCheckBox.checked ? false: true;
                    }
                    if (targetCheckBox.checked) {
                        targetCheckBox.parentNode.style.backgroundColor = "#ccffcc";
                    } else {
                        targetCheckBox.parentNode.style.backgroundColor = "white";
                    }
                    break;
                default:
                    break;
            }
        }
    }
</script>

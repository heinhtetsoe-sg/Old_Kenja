{rval start}
<table width="750px" border="0" cellpadding="0" cellspacing="10" align="center">
  <tr class="no_search_line">
    <td nowrap>
      <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr class="no_search_line">
          <td width="100%">
            <table width="100%" border="0" cellpadding="5" cellspacing="1">
              <tr align="center" class="no_search" height="25">
                <th colspan="2">予算作成</th>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
  </tr>

  <tr>
    <td>
      <table width="100%" border="0" cellspacing="0" cellpadding="1" >
        <tr class="no_search_line">
          <th>
            <table width="100%" border="0" cellspacing="0" cellpadding="3" bgcolor="#cccccc">
              <tr height="25">
                <td class="no_search">&nbsp;校種:{rval SCHOOL_KIND}</td>
                <td class="no_search">{rval YEAR}</td>
                <td class="no_search">預り金科目:{rval LEVY_L_CD}</td>
              </tr>
              <tr height="25">
                <td class="no_search" colspan="3">&nbsp;支出項目:{rval LEVY_M_CD}</td>
            </table>
          </th>
        </tr>
      </table>
    </td>
  </tr>

  <tr>
    <td>
      <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr class="no_search_line">
          <td>
            <table width="100%" border="0" cellpadding="5" cellspacing="1">
              <tr align="center" class="no_search" height="25">
                <th width="300" rowspan="2">支出細目</th>
                <th width="50" rowspan="2"><LABEL for="CHECK_ALL">前年度<br>反映</LABEL><br>{rval CHECK_ALL}</th>
                <th width="100">{rval YEAR}</th>
                <th width="*" colspan="2">{rval LAST_YEAR}</th>
              </tr>
              <tr align="center" class="no_search" height="25">
                <th width="100">予算額</th>
                <th width="100">予算額</th>
                <th width="*">実績額</th>
              </tr>
            </table>
          </td>
        </tr>

        <tr>
          <td>
            <div style="width:100%; height:440; overflow:auto">
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tr class="no_search_line">
                <td>
                  <table width="100%" border="0" cellpadding="5" cellspacing="1">
                    <!--結果一覧-->
                    <!--{def data2}-->
                    <!--{each data2}-->
                    <tr bgcolor="#ffffff">
                      <td width="300" align="left">{rval data2/LEVY_S_NAME}</td>
                      <td width="50" align="center" class="changeColor" data-name="{rval data2/CHECK_BOX_NAME}">{rval data2/CHECK_BOX}</td>
                      <td width="100" align="right">{rval data2/BUDGET_MONEY}</td>
                      <td width="100" align="right">{rval data2/LASTYEAR_BUDGET}</td>
                      <td width="*" align="right">{rval data2/LASTYEAR_SCH_PRICE}</td>
                    </tr>
                    <!--{/each}-->
                    <!--{/def}-->
                  </table>
                </td>
              </tr>
            </table>
            </div>
          </td>
        </tr>
        <tr>
          <td valign="top">
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr class="no_search_line">
                <td>
                  <table width="100%" border="0" cellspacing="1" cellpadding="3">
                    <tr>
                      <td align="right" bgcolor="#ffffff">{rval button/btn_update}{rval button/btn_reset}{rval button/btn_back}</td>
                    </tr>
                  </table>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<script language="JavaScript">{rval closeCheck}</script>
{rval finish}
<script language="JavaScript">
    document.addEventListener('click', function(e) {tdChangeColor(e)});
    document.addEventListener('mouseover', function(e) {tdChangeColor(e)});
    document.addEventListener('mouseout', function(e) {tdChangeColor(e)});

    function tdChangeColor(e) {
        var t = e.target;
        if (t.className == "changeColor") {
            var objName = e.target.getAttribute('data-name');
            targetCheckBox = document.getElementById(objName);
            switch (e.type) {
                case "mouseover":
                    targetCheckBox.parentNode.style.backgroundColor = "pink";
                    break;
                case "mouseout":
                    targetCheckBox.parentNode.style.backgroundColor = "white";
                    break;
                case "click":
                    if (e.target.type != "checkbox") {
                        targetCheckBox.checked = targetCheckBox.checked ? false: true;
                    }
                    if (targetCheckBox != '') {
                        checkOn(t);
                    }
                    break;
                default:
                    break;
            }
        }
    }
</script>
